(()=>{"use strict";function t(t){if(t instanceof Float64Array)return t.slice();const n=new Float64Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}function n(t,n){if(1===n)return 0;for(;t<0||t>=n;)t<0&&(t=-t-1),t>=n&&(t=2*n-t-1);return t}function r(r,e){const o=r.length,l=t(r),a=function(t){const n=Math.max(1,Math.round(t));return n%2===0?n+1:n}(e),s=a-1>>1,c=new Float64Array(o),i=new Float64Array(a);for(let t=0;t<o;t++){for(let e=-s,a=0;e<=s;e++,a++)i[a]=l[n(t+e,o)];const r=Array.from(i);r.sort((t,n)=>t-n),c[t]=r[s]}return c}function e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;const o=function(n,r){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;const o=1/r,l=1/(2*Math.PI*e),a=l/(l+o),s=n.length,c=t(n),i=new Float64Array(s);i[0]=0;for(let t=1;t<s;t++)i[t]=a*(i[t-1]+c[t]-c[t-1]);return i}(n,e,.5),{baseline:l,corrected:a}=function(n,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const a=Math.round(o/1e3*e),s=Math.round(l/1e3*e),c=r(n,a),i=r(c,s),f=i.length,u=t(n),h=new Float64Array(f);for(let t=0;t<f;t++)h[t]=u[t]-i[t];return{baseline:i,corrected:h}}(o,e,200,600);return{hpf:o,baseline:l,detrended:a}}function o(n,r){const{b0:e,b1:o,b2:l,a1:a,a2:s}=r,c=n.length,i=t(n),f=new Float64Array(c);let u=0,h=0,g=0,d=0;for(let t=0;t<c;t++){const n=i[t],r=e*n+o*u+l*h-a*g-s*d;f[t]=r,h=u,u=n,d=g,g=r}return f}function l(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/Math.SQRT2;const e=2*Math.PI*(n/t),o=Math.cos(e),l=Math.sin(e)/(2*r);let a=(1-o)/2,s=1-o,c=(1-o)/2,i=1+l,f=-2*o,u=1-l;return a/=i,s/=i,c/=i,f/=i,u/=i,{b0:a,b1:s,b2:c,a1:f,a2:u}}function a(n,r){let e=t(n);for(const t of r)e=o(e,t);return e}function s(r,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25;const s=r.length;if(s<3)return t(r);const c=Math.min(s-1,Math.max(12,Math.round(o*l))),i=function(t,r){const e=t.length,o=new Float64Array(e+2*r);for(let l=0;l<r;l++)o[l]=t[n(r-l-1,e)];for(let n=0;n<e;n++)o[r+n]=t[n];for(let l=0;l<r;l++)o[r+e+l]=t[n(e-2-l,e)];return o}(r,c);let f=a(i,e);f=f.reverse(),f=a(f,e),f=f.reverse();const u=new Float64Array(s);for(let t=0;t<s;t++)u[t]=f[c+t];return u}function c(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/Math.SQRT2;const e=2*Math.PI*(n/t),o=Math.cos(e),l=Math.sin(e)/(2*r);let a=(1+o)/2,s=-(1+o),c=(1+o)/2,i=1+l,f=-2*o,u=1-l;return a/=i,s/=i,c/=i,f/=i,u/=i,{b0:a,b1:s,b2:c,a1:f,a2:u}}const i=[.541196100146197,1.3065629648763766];function f(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return 2===r?[c(t,n,1/Math.SQRT2)]:4===r?i.map(r=>c(t,n,r)):void 0}function u(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return 2===r?[l(t,n,1/Math.SQRT2)]:4===r?i.map(r=>l(t,n,r)):void 0}function h(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;const{detrended:l}=e(n,r);let a=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,{hpOrder:e=2,lpOrder:l=4,zeroPhase:a=!0,padSeconds:c=.25}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=[...f(r,5,e),...u(r,18,l)];return a?s(n,i,r,c):i.reduce((t,n)=>o(t,n),t(n))}(l,r,{hpOrder:4,lpOrder:4,zeroPhase:!0});return{bp:a,detrended:l}}function g(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,{win1Sec:r=.2,win2Sec:e=.6,removeResidualDC:o=!1,fixNonFinite:l=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Array.isArray(t)&&!(t instanceof Float64Array))throw new TypeError("x must be an array-like of numbers");const a=t.length;if(0===a)return[];let s=M(t);l&&(s=m(s));let c=d(Math.max(3,Math.round(r*n))),i=d(Math.max(3,Math.round(e*n)));c=y(c,a),i=y(i,a);const f=A(s,c),u=A(f,i),h=new Float64Array(a);for(let g=0;g<a;g++)h[g]=s[g]-u[g];if(o){const t=function(t){const n=Array.from(t);n.sort((t,n)=>t-n);const r=Math.floor(n.length/2);return n.length%2?n[r]:.5*(n[r-1]+n[r])}(h);for(let n=0;n<a;n++)h[n]-=t}return Array.from(h)}function d(t){return t%2===0?t+1:t}function y(t,n){return t<=3?3:t>n?n%2===1?n:n-1:t%2===1?t:t-1}function M(t){if(t instanceof Float64Array)return t.slice();const n=new Float64Array(t.length);for(let r=0;r<t.length;r++)n[r]=Number(t[r]);return n}function m(t){const n=t.length,r=new Float64Array(n),e=new Array(n);for(let a=0;a<n;a++){const n=t[a],o=Number.isFinite(n);r[a]=o?n:0,e[a]=o}let o=0;for(;o<n&&!e[o];)o++;if(o===n)return r;for(let a=0;a<o;a++)r[a]=r[o];let l=o;for(;l<n;){if(e[l]){l++;continue}const t=l-1;let o=l+1;for(;o<n&&!e[o];)o++;const a=o<n?o:n-1,s=r[t],c=r[a],i=a-t;for(let n=1;n<i;n++)r[t+n]=s+n/i*(c-s);if(o===n){for(let e=t+1;e<n;e++)r[e]=s;break}l=o+1}return r}function A(t,n){const r=t.length;if(n<=1||0===r)return Array.from(t);const e=n-1>>1,o=w(t,e),l=F(t,e),a=new Float64Array(e+r+e);a.set(o,0),a.set(t,e),a.set(l,e+r);const s=Array(n);for(let f=0;f<n;f++)s[f]=a[f];s.sort((t,n)=>t-n);const c=new Float64Array(r),i=n-1>>1;for(let f=0;f<r;f++)if(c[f]=s[i],f<r-1){const t=a[f],r=a[f+n];let e=b(s,t);for(;e<s.length&&s[e]!==t;)e++;e<s.length?s.splice(e,1):(e=b(s,t),s.splice(Math.min(e,s.length-1),1));const o=b(s,r);s.splice(o,0,r)}return Array.from(c)}function w(t,n){const r=new Float64Array(n);for(let e=0;e<n;e++)r[e]=t[n-1-e];return r}function F(t,n){const r=new Float64Array(n),e=t.length;for(let o=0;o<n;o++)r[o]=t[e-1-o];return r}function b(t,n){let r=0,e=t.length;for(;r<e;){const o=r+e>>>1;t[o]<n?r=o+1:e=o}return r}function v(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,{f0:r=50,Q:e=35,zeroPhase:o=!0,padMult:l=3,fixNonFinite:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=M(t);a&&(s=m(s));if(!(r>0&&r<n/2))return Array.from(s);(!Number.isFinite(e)||e<5)&&(e=5),e>1e3&&(e=1e3);const{b:c,a:i}=function(t,n,r){const e=2*Math.PI*(t/n),o=Math.cos(e),l=Math.sin(e)/(2*r);let a=1,s=-2*o,c=1,i=1+l,f=-2*o,u=1-l;return a/=i,s/=i,c/=i,f/=i,u/=i,i=1,{b:[a,s,c],a:[i,f,u]}}(r,n,e);let f;return f=o?function(t,n,r){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;const o=t.length;if(0===o)return new Float64Array(0);const l=Math.max(n.length,r.length)-1,a=Math.max(6,Math.min(e*l,Math.floor(o/2))),s=w(t,a),c=F(t,a),i=new Float64Array(a+o+a);i.set(s,0),i.set(t,a),i.set(c,a+o);let f=p(i,n,r);return f=x(f),f=p(f,n,r),f=x(f),f.subarray(a,a+o)}(s,c,i,l):p(s,c,i),Array.from(f)}function p(t,n,r){const e=t.length,o=new Float64Array(e),l=n[0],a=n[1],s=n[2],c=r[1],i=r[2];let f=0,u=0;for(let h=0;h<e;h++){const n=t[h],r=l*n+f;f=a*n+u-c*r,u=s*n-i*r,o[h]=r}return o}function x(t){const n=t.length,r=new Float64Array(n);for(let e=0;e<n;e++)r[e]=t[n-1-e];return r}function P(t,n,r){const e=r/2,o=N(r),l=[];for(let a=0;a<e;a++)l.push(S(t,n,o[a]));return l}function N(t){const n=Math.floor(t/2),r=new Array(n);for(let e=1;e<=n;e++){const n=Math.sin((2*e-1)*Math.PI/(2*t));r[e-1]=1/(2*n)}return r.sort((t,n)=>t-n),r}function S(t,n,r){const e=2*Math.PI*(t/n),o=Math.cos(e),l=Math.sin(e)/(2*r);let a=(1-o)/2,s=1-o,c=(1-o)/2,i=1+l,f=-2*o,u=1-l;return a/=i,s/=i,c/=i,f/=i,u/=i,i=1,{b:[a,s,c],a:[i,f,u]}}function k(t,n){let r=M(t);for(let e=0;e<n.length;e++){const{b:t,a:o}=n[e];r=p(r,t,o)}return r}function T(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;const e=t.length;if(0===e)return new Float64Array(0);const o=Math.max(12,Math.min(3*r*n.length,Math.floor(e/2))),l=w(t,o),a=F(t,o),s=new Float64Array(o+e+o);s.set(l,0),s.set(t,o),s.set(a,o+e);let c=k(s,n);return c=x(c),c=k(c,n),c=x(c),c.subarray(o,o+e)}function I(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,{f1:r=5,f2:e=15,orderHP:o=2,orderLP:l=2,zeroPhase:a=!0,padMult:s=6,fixNonFinite:c=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Array.isArray(t)&&!(t instanceof Float64Array))throw new TypeError("x must be an array-like of numbers");if(0===t.length)return[];let i=M(t);c&&(i=m(i));if(!(r>0)||!(e>0)||!(r<e)||!(e<n/2))return Array.from(i);o<2&&(o=2),l<2&&(l=2),o%2!==0&&(o+=1),l%2!==0&&(l+=1);const f=function(t,n,r){const e=r/2,o=N(r),l=[];for(let a=0;a<e;a++)l.push(z(t,n,o[a]));return l}(r,n,o),u=P(e,n,l),h=f.concat(u),g=a?T(i,h,s):k(i,h);return Array.from(g)}function z(t,n,r){const e=2*Math.PI*(t/n),o=Math.cos(e),l=Math.sin(e)/(2*r);let a=(1+o)/2,s=-(1+o),c=(1+o)/2,i=1+l,f=-2*o,u=1-l;return a/=i,s/=i,c/=i,f/=i,u/=i,i=1,{b:[a,s,c],a:[i,f,u]}}const Q=(t,n)=>{const r=t[n].data.map(t=>t[1]),e=t[n].data.map(t=>t[0]),o=t=>e.map((n,r)=>[n,t[r]]),l=function(t){const n=t.length,r=Math.floor(20),e=Math.floor(80),o=new Array(n);for(let c=0;c<n;c++){const e=Math.max(0,c-r),l=Math.min(n-1,c+r);o[c]=s(t,e,l)}const l=new Array(n);for(let c=0;c<n;c++){const t=Math.max(0,c-e),r=Math.min(n-1,c+e);l[c]=s(o,t,r)}const a=new Array(n);for(let c=0;c<n;c++){const n=t[c],r=l[c];a[c]=Number.isNaN(n)||Number.isNaN(r)?NaN:n-r}return a;function s(t,n,r){const e=r-n+1,o=new Array(e);for(let a=0;a<e;a++)o[a]=t[n+a];o.sort((t,n)=>t-n);const l=Math.floor(e/2);return e%2===1?o[l]:.5*(o[l-1]+o[l])}}(r),a=function(t){const n=t.length;if(0===n)return[];const r=function(t,n){const r=new Array(13).fill(0),e=n[1],o=n[2];for(let l=0;l<13;l++){let n=0===l?t[0]:0;for(let r=1;r<t.length;r++)0===l-r&&(n+=t[r]);const a=l-1>=0?r[l-1]:0,s=l-2>=0?r[l-2]:0;r[l]=n-e*a-o*s}return r}([1,0,0,0,0,0,-2,0,0,0,0,0,1],[1,-2,1]);return function(t,n){const r=t.length,e=n.length,o=r+e-1,l=new Array(o).fill(0);for(let a=0;a<o;a++){let o=0;const s=Math.max(0,a-(r-1)),c=Math.min(a,e-1);for(let r=s;r<=c;r++)o+=n[r]*t[a-r];l[a]=o}return l}(t,r).slice(6,6+n)}(l),s=function(t){const n=t.length,r=function(t,n,r){const e=new Array(r).fill(0),o=n[1];for(let l=0;l<r;l++){let n=l<t.length?t[l]:0;const r=l>0?e[l-1]:0;e[l]=n-o*r}return e}((()=>{const t=new Array(33).fill(0);return t[0]=-1,t[16]=32,t[17]=-32,t[32]=1,t})(),[1,-1],33);return function(t,n){const r=t.length,e=n.length,o=r+e-1,l=new Array(o).fill(0);for(let a=0;a<o;a++){let o=0;const s=Math.max(0,a-(r-1)),c=Math.min(a,e-1);for(let r=s;r<=c;r++)o+=n[r]*t[a-r];l[a]=o}return l}(t,r).slice(16,16+n)}(a),c=function(t){const n=Math.max(2,Math.round(8)),r=(e=1-.25/35,o=0,l=.999999,Math.max(o,Math.min(l,e)));var e,o,l;const a=Math.pow(r,1/n),s=function(t,n,r){const e=3*(Math.max(t.length,n.length)-1),o=r.length;if(o<=e+1){const e=c(t,n,r);return c(t,n,e.slice().reverse()).reverse()}const l=i(r,e,!0),a=i(r,e,!1),s=c(t,n,l.concat(r,a));return c(t,n,s.slice().reverse()).reverse().slice(e,e+o);function i(t,n,r){const e=new Array(n);if(r){for(let r=0;r<n;r++)e[r]=2*t[0]-t[1+r];return e.reverse()}for(let l=0;l<n;l++)e[l]=2*t[o-1]-t[o-2-l];return e}}(new Array(n).fill(1),Array.from({length:n},(t,n)=>Math.pow(a,n)),t);return s;function c(t,n,r){const e=t.length,o=n.length,l=new Array(r.length).fill(0);for(let a=0;a<r.length;a++){let s=0;for(let n=0;n<e;n++){const e=a-n;e>=0&&(s+=t[n]*r[e])}for(let t=1;t<o;t++){const r=a-t;r>=0&&(s-=n[t]*l[r])}l[a]=s}return l}}(s),i=h(r),f=g(r),u=v(f),d=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,{fc:r=40,order:e=4,zeroPhase:o=!0,padMult:l=6,fixNonFinite:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Array.isArray(t)&&!(t instanceof Float64Array))throw new TypeError("x must be an array-like of numbers");if(0===t.length)return[];let s=M(t);if(a&&(s=m(s)),e<2&&(e=2),e%2!==0&&(e+=1),!(r>0&&r<n/2))return Array.from(s);const c=P(r,n,e),i=o?T(s,c,l):k(s,c);return Array.from(i)}(u),y=I(d);return{mvmFiltered:o(l),lowPassFilteredML:o(a),highPassFilteredML:o(s),notchFilteredML:o(c),biggestPreprocess:{bp:o(i.bp),detrended:o(i.detrended)},newPreprocess:{newFirst:o(f),newSecond:o(u),newThird:o(d),newFourth:o(y)}}};function R(t){return t&&"object"===typeof t?{name:t.name,message:t.message,stack:t.stack}:{message:String(t)}}self.onmessage=t=>{const{series:n,channel:r}=t.data;try{const t=Q(n,r);self.postMessage({series:n,ok:!0,result:t})}catch(e){self.postMessage({series:n,ok:!1,error:R(e)})}}})();
//# sourceMappingURL=222.7b36d2fd.chunk.js.map